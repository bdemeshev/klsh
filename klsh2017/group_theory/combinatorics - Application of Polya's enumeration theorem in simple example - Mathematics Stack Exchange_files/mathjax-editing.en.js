"use strict";StackExchange.mathjaxEditing=function(){function e(){m.disabled=!0,g.resetEquationNumbers()}function t(){m.disabled=!1}function n(e,t){var n=u.slice(e,t+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(f&&(n=n.replace(/\n    /g,"\n")),x.Browser.isMSIE&&(n=n.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));t>e;)u[t--]="";u[e]="@@"+h.length+"@@",h.push(n),c=l=d=null}function i(e){c=l=d=f=null,h=[],u=k(e.replace(/\r\n?/g,"\n"),y);for(var t=1,i=u.length;i>t;t+=2){var r=u[t];"@"===r.charAt(0)?(u[t]="@@"+h.length+"@@",h.push(r)):c?r===l?p>0?d=t:0===p?n(c,t):c=l=d=null:r.match(/\n.*\n/)||t+2>=i?(d&&(t=d,p>=0&&n(c,t)),c=l=d=null,p=0):"{"===r&&p>=0?p++:"}"===r&&p>0&&p--:r===w||"$$"===r?(c=t,l=r,p=0):"begin"===r.substr(1,5)?(c=t,l="\\end"+r.substr(6),p=0):"`"===r.charAt(0)?(c=d=t,l=r,p=-1):"\n"===r.charAt(0)&&r.match(/    $/)&&(f=!0)}return d&&n(c,d),u.join("")}function r(e){return e=e.replace(/@@(\d+)@@/g,function(e,t){return h[t]}),h=null,e}function a(n,i){b=!1,x.cancelTypeset=!1,x.Queue(e,[i,x,n],t)}function o(e,t){b||(b=e,v&&(x.Cancel(),x.Queue([a,e,t])))}function s(e,t,n){var s=document.getElementById("wmd-preview"+t);w=n[0][0];var u=e.getConverter();u.hooks.chain("preConversion",i),u.hooks.chain("preSafe",r),e.hooks.chain("onPreviewRefresh",function(){o(s,"Typeset")}),x.Queue(function(){s&&s.querySelector(".mjx-noError")&&a(s,"Reprocess")})}var u,c,l,d,p,f,h,g,m,v=!1,b=null,w="$",x=MathJax.Hub;x.Queue(function(){return g=MathJax.InputJax.TeX,m=g.config.noErrors,v=!0,x.processUpdateTime=50,x.processSectionDelay=0,MathJax.Extension["fast-preview"].Disable(),x.Config({"HTML-CSS":{"EqnChunk":10,"EqnChunkFactor":1},"CommonHTML":{"EqnChunk":10,"EqnChunkFactor":1},"SVG":{"EqnChunk":10,"EqnChunkFactor":1}}),b?a(b,"Typeset"):void 0});var k,y=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[\\{}$]|[{}]|(?:\n\s*)+|@@\d+@@|`+)/i;return k=3==="aba".split(/(b)/).length?function(e,t){return e.split(t)}:function(e,t){var n,i=[];if(!t.global){var r=t.toString(),a="";r=r.replace(/^\/(.*)\/([im]*)$/,function(e,t,n){return a=n,t}),t=new RegExp(r,a+"g")}t.lastIndex=0;for(var o=0;n=t.exec(e);)i.push(e.substring(o,n.index)),i.push.apply(i,n.slice(1)),o=n.index+n[0].length;return i.push(e.substring(o)),i},{"prepareWmdForMathJax":s}}(),function(){var e=MathJax.Hub;if(!e.Cancel){e.cancelTypeset=!1;var t="MathJax Canceled";e.Register.StartupHook("HTML-CSS Jax Config",function(){var n=MathJax.OutputJax["HTML-CSS"],i=n.Translate;n.Augment({"Translate":function(r,a){if(e.cancelTypeset||a.cancelled)throw Error(t);return i.call(n,r,a)}})}),e.Register.StartupHook("SVG Jax Config",function(){var n=MathJax.OutputJax.SVG,i=n.Translate;n.Augment({"Translate":function(r,a){if(e.cancelTypeset||a.cancelled)throw Error(t);return i.call(n,r,a)}})}),e.Register.StartupHook("CommonHTML Jax Config",function(){var n=MathJax.OutputJax.CommonHTML,i=n.Translate;n.Augment({"Translate":function(r,a){if(e.cancelTypeset||a.cancelled)throw Error(t);return i.call(n,r,a)}})}),e.Register.StartupHook("PreviewHTML Jax Config",function(){var n=MathJax.OutputJax.PreviewHTML,i=n.Translate;n.Augment({"Translate":function(r,a){if(e.cancelTypeset||a.cancelled)throw Error(t);return i.call(n,r,a)}})}),e.Register.StartupHook("TeX Jax Config",function(){var n=MathJax.InputJax.TeX,i=n.Translate;n.Augment({"Translate":function(r,a){if(e.cancelTypeset||a.cancelled)throw Error(t);return i.call(n,r,a)}})});var n=e.processError;e.processError=function(i,r,a){return i.message!==t?n.call(e,i,r,a):(MathJax.Message.Clear(0,0),r.jaxIDs=[],r.jax={},r.scripts=[],r.i=r.j=0,r.cancelled=!0,null)},e.Cancel=function(){this.cancelTypeset=!0}}}();